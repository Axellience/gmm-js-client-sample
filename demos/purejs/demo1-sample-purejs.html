<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title>Demo 1 Sample pure JS - GenMyModel Client Sample</title>
</head>
<body>
	<h1>Demo 1 Sample pure JS</h1>

	<div>Sample demo that get the first page of public projects from the <a href="https://api.genmymodel.com/doc" target="_blank">GenMyModel API</a>.</div><br/>

	<div>Public projects :</div>
	<ul id="publicProjects">
		<li>Loading...</li>
	</ul>


	<script src="../../js/GMMClientSample.js"></script>
	<script>
		// Create a sample client to do HTTP requests
		var gmmClient = new GMMClientSample();

		// Request for public project list
		gmmClient.requestAPI("/projects/public", function onResults (error, results) {
			if (error) {alert("Something went wrong"); return;}

			// Create projects in DOM
			var publicProjectsDiv = document.getElementById("publicProjects");
			publicProjectsDiv.innerHTML = "";
			for (var i = 0; i < results.projects.length; i++) {
				var tmpProjectDiv = document.createElement("li");
				tmpProjectDiv.innerHTML = results.projects[i].name;

				publicProjectsDiv.appendChild(tmpProjectDiv);
			}
		});
	</script>
</body>
</html>